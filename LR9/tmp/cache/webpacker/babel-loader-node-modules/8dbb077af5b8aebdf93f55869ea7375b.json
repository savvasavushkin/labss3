{"ast":null,"code":"function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction show_result(data) {\n  var result_as_tbody = \"\";\n  var row_index = 0;\n  var row;\n\n  for (row_index in data) {\n    row = data[row_index];\n    result_as_tbody += \"<tr>\\n                            <td>\".concat(row[0], \"</td>\\n                            <td>\").concat(row[1], \"! = \").concat(row[2] - 1, \" * \").concat(row[2], \" * \").concat(row[2] + 1, \"</td>\\n                            </tr>\");\n  }\n\n  $(\"#result\").html(\"\\n                    <p>\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E <span id=\\\"rows-number\\\">\".concat(data.length, \"</span> \\u0447\\u0438\\u0441\\u043B\\u0430</p>\\n                    <table>\\n                      <thead>\\n                      <tr>\\n                        <th>ID</th>\\n                        <th>Factorial</th>\\n                      </tr>\\n                      </thead>\\n                      <tbody>\\n                        \").concat(result_as_tbody, \"\\n                      </tbody>\\n                    </table>\\n                    \"));\n}\n\n$(document).ready(function () {\n  $(\"#factorials-form\").on(\"ajax:success\", function (event) {\n    var _event$detail = _slicedToArray(event.detail, 3);\n\n    data = _event$detail[0];\n    status = _event$detail[1];\n    xhr = _event$detail[2];\n    show_result(data.table_rows);\n  }).on(\"ajax:error\", function (event) {\n    $(\"#result\").html(\"<p>Ошибка при AJAX-запросе</p>\");\n  });\n});","map":{"version":3,"sources":["/home/savva/prog/LR9/app/javascript/factorials/ajax_factorials.js"],"names":["show_result","data","result_as_tbody","row_index","row","$","html","length","document","ready","on","event","detail","status","xhr","table_rows"],"mappings":";;;;;;;;;;;;AAAA,SAASA,WAAT,CAAqBC,IAArB,EAA2B;AACvB,MAAIC,eAAe,GAAG,EAAtB;AACA,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAIC,GAAJ;;AACA,OAAKD,SAAL,IAAkBF,IAAlB,EAAwB;AACpBG,IAAAA,GAAG,GAAGH,IAAI,CAACE,SAAD,CAAV;AACAD,IAAAA,eAAe,oDACWE,GAAG,CAAC,CAAD,CADd,oDAEWA,GAAG,CAAC,CAAD,CAFd,iBAEwBA,GAAG,CAAC,CAAD,CAAH,GAAS,CAFjC,gBAEwCA,GAAG,CAAC,CAAD,CAF3C,gBAEoDA,GAAG,CAAC,CAAD,CAAH,GAAS,CAF7D,6CAAf;AAIH;;AACDC,EAAAA,CAAC,CAAC,SAAD,CAAD,CAAaC,IAAb,wGACoDL,IAAI,CAACM,MADzD,sVAUsBL,eAVtB;AAcH;;AAEDG,CAAC,CAACG,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AACzBJ,EAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBK,EAAtB,CAAyB,cAAzB,EAAyC,UAASC,KAAT,EAAgB;AAAA,uCAC/BA,KAAK,CAACC,MADyB;;AACpDX,IAAAA,IADoD;AAC9CY,IAAAA,MAD8C;AACtCC,IAAAA,GADsC;AAErDd,IAAAA,WAAW,CAACC,IAAI,CAACc,UAAN,CAAX;AACH,GAHD,EAGGL,EAHH,CAGM,YAHN,EAGoB,UAASC,KAAT,EAAgB;AAChCN,IAAAA,CAAC,CAAC,SAAD,CAAD,CAAaC,IAAb,CAAkB,gCAAlB;AACH,GALD;AAMH,CAPD","sourcesContent":["function show_result(data) {\n    let result_as_tbody = \"\"\n    let row_index = 0;\n    let row;\n    for (row_index in data) {\n        row = data[row_index]\n        result_as_tbody += `<tr>\n                            <td>${row[0]}</td>\n                            <td>${row[1]}! = ${row[2] - 1} * ${row[2]} * ${row[2] + 1}</td>\n                            </tr>`\n    }\n    $(\"#result\").html(`\n                    <p>Найдено <span id=\"rows-number\">${data.length}</span> числа</p>\n                    <table>\n                      <thead>\n                      <tr>\n                        <th>ID</th>\n                        <th>Factorial</th>\n                      </tr>\n                      </thead>\n                      <tbody>\n                        ${result_as_tbody}\n                      </tbody>\n                    </table>\n                    `)\n}\n\n$(document).ready(function() {\n    $(\"#factorials-form\").on(\"ajax:success\", function(event) {\n        [data, status, xhr] = event.detail\n        show_result(data.table_rows)\n    }).on(\"ajax:error\", function(event) {\n        $(\"#result\").html(\"<p>Ошибка при AJAX-запросе</p>\")\n    })\n})\n"]},"metadata":{},"sourceType":"module"}